FROM gradle:4.10.3-jdk8

WORKDIR /src

# Copy sources
COPY . /src

# Build using the container's Gradle (no wrapper needed)
RUN gradle --no-daemon clean build

# Normalize jar name for runner
RUN ls -la build/libs && \
    (cp build/libs/RecipeDumper-*.jar build/libs/RecipeDumper.jar)
